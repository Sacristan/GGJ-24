[gd_scene load_steps=8 format=3 uid="uid://bdupkh0grwy27"]

[ext_resource type="PackedScene" uid="uid://lqyku5wn2wo0" path="res://Player/MovementController.tscn" id="1_t1jcr"]
[ext_resource type="PackedScene" uid="uid://b8drbos167vf8" path="res://Player/Head.tscn" id="2_41iu1"]
[ext_resource type="Script" path="res://Player/Sprint.gd" id="3_bgqcu"]
[ext_resource type="PackedScene" uid="uid://bsjxv68ubnkqq" path="res://Prefabs/toilet_gun.tscn" id="3_iaru4"]
[ext_resource type="PackedScene" uid="uid://cbj3o7tu71yf5" path="res://Models/ButtGun/gun.glb" id="4_gtd87"]
[ext_resource type="Script" path="res://Models/ButtGun/gun.gd" id="5_r7m77"]
[ext_resource type="PackedScene" uid="uid://d1r7nuh6pqa5d" path="res://Prefabs/hud.tscn" id="7_h77we"]

[node name="Player" instance=ExtResource("1_t1jcr")]

[node name="Head" parent="." index="1" instance=ExtResource("2_41iu1")]

[node name="gunrotation" type="Node3D" parent="Head/Camera" index="0"]
transform = Transform3D(1, 3.72529e-09, -1.49012e-08, 0, 1, -7.45058e-09, 7.45058e-09, 2.77556e-17, 1, 0, -0.64, 0)
script = ExtResource("5_r7m77")
sway_left = Vector3(0, 0.1, 0)
sway_right = Vector3(0, -0.1, 0)

[node name="gun" parent="Head/Camera/gunrotation" index="0" instance=ExtResource("4_gtd87")]
transform = Transform3D(0.316219, 0.00669867, 0.0166488, -0.017139, 0.0256087, 0.315226, 0.00532076, -0.315619, 0.0259301, 0.350551, 0.314535, -0.189724)

[node name="Sphere" parent="Head/Camera/gunrotation/gun" index="0"]
layers = 2

[node name="SubViewportContainer" type="SubViewportContainer" parent="Head/Camera" index="1"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="SubViewport" type="SubViewport" parent="Head/Camera/SubViewportContainer" index="0"]
transparent_bg = true
handle_input_locally = false
size = Vector2i(1920, 1080)
render_target_update_mode = 4

[node name="GunCam" type="Camera3D" parent="Head/Camera/SubViewportContainer/SubViewport" index="0"]
cull_mask = 0

[node name="ToiletGun" parent="Head" index="1" instance=ExtResource("3_iaru4")]
transform = Transform3D(-0.0383383, 0, 0.398158, 0, 0.4, 0, -0.398158, 0, -0.0383383, 0.391065, -0.221829, -0.198821)

[node name="shootSrc" parent="Head/ToiletGun" index="0"]
transform = Transform3D(-2.98023e-08, 0, 1, 0, 0.999998, 0, -1, 0, -5.21541e-08, 2.49476, 0, -1.19209e-07)

[node name="MeshInstance3D" parent="Head/ToiletGun" index="1"]
visible = false

[node name="Sprint" type="Node" parent="." index="2"]
script = ExtResource("3_bgqcu")

[node name="HUD" parent="." index="3" node_paths=PackedStringArray("player", "poopGun") instance=ExtResource("7_h77we")]
player = NodePath("..")
poopGun = NodePath("../Head/ToiletGun")

[editable path="Head"]
[editable path="Head/Camera/gunrotation/gun"]
[editable path="Head/ToiletGun"]
